<mat-card class="delivery-detail-card" *ngIf="delivery">
  <mat-card-title>Lieferung #{{ delivery.id }}</mat-card-title>

  <p><strong>Werkstatt:</strong> {{ getWorkshopName(delivery.workshop) }}</p>
  <p><strong>Notiz:</strong> {{ delivery.note || '—' }}</p>

  <div class="mt-4">
    <h3>Gelieferte Materialien</h3>

    <table mat-table [dataSource]="delivery.items" class="mat-elevation-z1 full-width-table">
      <ng-container matColumnDef="nr">
        <th mat-header-cell *matHeaderCellDef>#</th>
        <td mat-cell *matCellDef="let i; let idx = index">{{ idx + 1 }}</td>
      </ng-container>

      <ng-container matColumnDef="material">
        <th mat-header-cell *matHeaderCellDef>Material</th>
        <td mat-cell *matCellDef="let m">{{ getMaterialName(m.material) }}</td>
      </ng-container>

      <ng-container matColumnDef="quantity">
        <th mat-header-cell *matHeaderCellDef>Menge</th>
        <td mat-cell *matCellDef="let m">{{ m.quantity }}</td>
      </ng-container>

      <ng-container matColumnDef="note">
        <th mat-header-cell *matHeaderCellDef>Notiz</th>
        <td mat-cell *matCellDef="let m">{{ m.note || '—' }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['nr', 'material', 'quantity', 'note']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['nr', 'material', 'quantity', 'note']"></tr>
    </table>
  </div>
</mat-card>
